(function () {
// Source: /usr/local/src/opendatapolicing-static/template/base-page.hbs

  var template = Handlebars.template({"1":function(container,depth0,helpers,partials,data) {
    return "";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    };

  return "<!DOCTYPE html>\n<html lang=\"en\" style=\"height: 100%;\">\n	<head>\n		<meta charset=\"utf-8\">\n		<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n		<link href='//fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'/>\n\n		<script src=\"https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js\"></script>\n		<script src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":10,"column":15},"end":{"line":10,"column":32}}}) : helper)))
    + "/js/helpers.js\"></script>\n\n"
    + ((stack1 = (lookupProperty(helpers,"block")||(depth0 && lookupProperty(depth0,"block"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"head_content",{"name":"block","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":12,"column":0},"end":{"line":13,"column":10}}})) != null ? stack1 : "")
    + "	</head>\n	<body style=\"height: 100%; font-family: 'Droid Sans', sans-serif; \">\n		<a name=\"top\"></a>\n		<div class=\"top-box w3-top \">\n		</div>\n		<div class=\"w3-top w3-2017-navy-peony \">\n			<div class=\"w3-bar w3-content \">\n				<div class=\"w3-dropdown-hover w3-hide-medium w3-hide-large \">\n					<button class=\"w3-button \">\n						<i class=\"fas fa-bars\"></i>\n					</button>\n					<div class=\"w3-dropdown-content w3-bar-block w3-card-4 \">\n						<a class=\"w3-bar-item w3-button \" href=\"/about\">About</a>\n					</div>\n				</div>\n				<a class=\"w3-bar-item w3-button font-weight-bold \" href=\"/\">Open Data Policing</a>\n				<a class=\"w3-bar-item w3-hide-small \" href=\"/about\">About</a>\n			</div>\n		</div>\n"
    + ((stack1 = (lookupProperty(helpers,"block")||(depth0 && lookupProperty(depth0,"block"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"body_content",{"name":"block","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":33,"column":0},"end":{"line":34,"column":10}}})) != null ? stack1 : "")
    + "\n		<div class=\"w3-light-gray w3-padding-16 \">\n			<div class=\"w3-content \">\n				<div class=\"w3-row \">\n					<div class=\"w3-half w3-mobile w3-container \">\n						<h3 class=\"w3-text-2017-navy-peony \">About Open Data Policing</h3>\n						<p class=\"\">\n							Open Data Policing is a first-of-its-kind platform that aims to\n							make real the recommendation of the President’s Task Force on\n							21st Century Policing to make stop, search, and use-of-force\n							“data...publicly available to ensure transparency.” The site\n							currently aggregates, visualizes, and publishes public records\n							related to all known traffic stops to have occurred in North\n							Carolina since 2002, in Maryland since 2013, and in Illinois\n							since 2005. Data is collected in all states pursuant to mandatory\n							data collection statutes and reported monthly to the NC State\n							Bureau of Investigation, Maryland State Police, and Illinois\n							State Police. The platform does not alter or manipulate raw data.\n							Where data sets are incomplete or missing, it is because they\n							have not been reported to the state agency from which the site\n							derives its records. Although the site permits users to identify\n							the career enforcement patterns of individual officers associated\n							with known traffic stops, <b>Open Data Policing does not have\n								access to, nor does it publish, the names or drivers,\n								passengers, or officers involved in traffic stops.</b>\n						</p>\n\n					</div>\n					<div class=\"w3-quarter w3-mobile w3-container \">\n						<h3 class=\"w3-text-2017-navy-peony \">Donate</h3>\n						<div class=\"\">\n							<p>Open Data Policing is a project of the Southern Coalition\n								for Social Justice. To support the work of the Open Data Policing\n								initiative, click here.\n							<ul class=\"links list-unstyled\">\n								<li><a class=\"w3-text-2017-navy-peony \" href=\"https://www.southerncoalition.org/donate-bloomerang/\">Donate</a></li>\n							</ul>\n							</p>\n						</div>\n					</div>\n					<div class=\"w3-quarter w3-mobile w3-container \">\n						<h3 class=\"w3-text-2017-navy-peony \">Connect</h3>\n						<ul class=\"\">\n							<li><a class=\"w3-text-2017-navy-peony \" href=\"http://www.southerncoalition.org/contact-us/\">Contact\n									Us</a></li>\n							<li><a class=\"w3-text-2017-navy-peony \" href=\"http://twitter.com/scsj\">Twitter</a></li>\n							<li><a class=\"w3-text-2017-navy-peony \" href=\"http://facebook.com/southerncoalition\">Facebook</a></li>\n						</ul>\n					</div>\n				</div>\n			</div>\n		</div>\n\n		<div class=\"w3-small w3-center \" id=\"footer\">\n			<div class=\"container\">\n				<p class=\"small credit\">\n					Open Data Policing - <a class=\"w3-text-2017-navy-peony \" href='http://www.southerncoalition.org/'>Southern Coalition for Social Justice</a>\n				</p>\n			</div>\n		</div>\n	</body>\n</html>\n";
},"useData":true});
  var templates = Handlebars.templates = Handlebars.templates || {};
  templates['base-page'] = template;
  var partials = Handlebars.partials = Handlebars.partials || {};
  partials['base-page'] = template;


// Source: /usr/local/src/opendatapolicing-static/template/home-page-state.hbs

  var template = Handlebars.template({"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    };

  return "<div class=\"w3-rest \">\n	<img src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":2,"column":11},"end":{"line":2,"column":28}}}) : helper)))
    + "/svg/state-"
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"stateAbbreviation") || (depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"stateAbbreviation","hash":{},"data":data,"loc":{"start":{"line":2,"column":39},"end":{"line":2,"column":60}}}) : helper)))
    + ".svg\" class=\"state-img w3-img \" style=\"height: 128px; \"/>\n	<p><span class=\"state-stop-count \">"
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"stopCountStr") || (depth0 != null ? lookupProperty(depth0,"stopCountStr") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"stopCountStr","hash":{},"data":data,"loc":{"start":{"line":3,"column":36},"end":{"line":3,"column":52}}}) : helper)))
    + "</span><span> stops</span></p>\n	<a class=\"state-search-link \" href=\"/report?var=stateAbbreviation:"
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"stateAbbreviation") || (depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"stateAbbreviation","hash":{},"data":data,"loc":{"start":{"line":4,"column":67},"end":{"line":4,"column":88}}}) : helper)))
    + "\" class=\"w3-btn \">"
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"stateName") || (depth0 != null ? lookupProperty(depth0,"stateName") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"stateName","hash":{},"data":data,"loc":{"start":{"line":4,"column":106},"end":{"line":4,"column":119}}}) : helper)))
    + " "
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"stateAbbreviation") || (depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"stateAbbreviation","hash":{},"data":data,"loc":{"start":{"line":4,"column":120},"end":{"line":4,"column":141}}}) : helper)))
    + "</a>\n</div>\n";
},"useData":true});
  var templates = Handlebars.templates = Handlebars.templates || {};
  templates['home-page-state'] = template;
  var partials = Handlebars.partials = Handlebars.partials || {};
  partials['home-page-state'] = template;


// Source: /usr/local/src/opendatapolicing-static/template/home-page.hbs

  var template = Handlebars.template({"1":function(container,depth0,helpers,partials,data) {
    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    };

  return "		<title>Open Data Policing</title>\n		<meta name=\"description\" content=\"\">\n		<meta name=\"author\" content=\"\">\n		<meta name=\"keywords\" content=\"\">\n		<link rel=\"stylesheet\" href=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":48}}}) : helper)))
    + "/css/w3.css\" />\n		<link rel=\"stylesheet\" href=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":8,"column":31},"end":{"line":8,"column":48}}}) : helper)))
    + "/css/site-enUS.css\" />\n		<script src=\"https://kit.fontawesome.com/59d19567d5.js\"></script>\n		<script src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":10,"column":15},"end":{"line":10,"column":32}}}) : helper)))
    + "/js/jquery-1.12.4.min.js\"></script>\n		<script src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":32}}}) : helper)))
    + "/js/site-enUS.js\"></script>\n		<script src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":12,"column":15},"end":{"line":12,"column":32}}}) : helper)))
    + "/js/sockjs.js\"></script>\n		<script src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":13,"column":15},"end":{"line":13,"column":32}}}) : helper)))
    + "/js/vertx-eventbus.js\"></script>\n		<script src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":14,"column":15},"end":{"line":14,"column":32}}}) : helper)))
    + "/js/enUS/TrafficStopPage.js\"></script>\n		<script src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":15,"column":15},"end":{"line":15,"column":32}}}) : helper)))
    + "/js/enUS/TrafficPersonPage.js\"></script>\n		<script src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":32}}}) : helper)))
    + "/js/enUS/TrafficSearchPage.js\"></script>\n		<script src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":17,"column":15},"end":{"line":17,"column":32}}}) : helper)))
    + "/js/enUS/SearchBasisPage.js\"></script>\n		<script src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":18,"column":15},"end":{"line":18,"column":32}}}) : helper)))
    + "/js/enUS/ContrabandPage.js\"></script>\n\n		<script>//<![CDATA[\n		$(document).ready(function() {\n			window.eventBus = new EventBus('/eventbus');\n			websocketHomePage();\n		});\n\n		async function websocketHomePage(tableName, success) {\n			window.eventBus.onopen = function () {\n				registerHandlerHomePage('TrafficStop', websocketTrafficStopInner);\n				registerHandlerHomePage('TrafficPerson', websocketTrafficPersonInner);\n				registerHandlerHomePage('TrafficSearch', websocketTrafficSearchInner);\n				registerHandlerHomePage('SearchBasis', websocketSearchBasisInner);\n				registerHandlerHomePage('TrafficContraband', websocketTrafficContrabandInner);\n			}\n		}\n\n		function registerHandlerHomePage(tableName, success) {\n			window.eventBus.registerHandler('websocket' + tableName, function (error, message) {\n				var json = JSON.parse(message['body']);\n				var id = json['id'];\n				var pk = json['pk'];\n				var pkPage = $('#' + tableName + 'Form :input[name=pk]').val();\n				var pks = json['pks'];\n				var empty = json['empty'];\n				var numFound = parseInt(json['numFound']);\n				var numPATCH = parseInt(json['numPATCH']);\n				var percent = Math.floor( numPATCH / numFound * 100 ) + '%';\n				var $box = $('<div>').attr('class', 'w3-quarter box-' + id + ' ').attr('id', 'box-' + id).attr('data-numPATCH', numPATCH);\n				var $margin = $('<div>').attr('class', 'w3-margin ').attr('id', 'margin-' + id);\n				var $card = $('<div>').attr('class', 'w3-card w3-white ').attr('id', 'card-' + id);\n				var $header = $('<div>').attr('class', 'w3-container fa-pale-green ').attr('id', 'header-' + id);\n				var $i = $('<i>').attr('class', 'far fa-newspaper w3-margin-right ').attr('id', 'icon-' + id);\n				var $headerSpan = $('<span>').attr('class', '').text('modify traffic stops' + id);\n				var $x = $('<span>').attr('class', 'w3-button w3-display-topright ').attr('onclick', '$(\"#card-' + id + '\").hide(); ').attr('id', 'x-' + id);\n				var $body = $('<div>').attr('class', 'w3-container w3-padding ').attr('id', 'text-' + id);\n				var $bar = $('<div>').attr('class', 'w3-light-gray ').attr('id', 'bar-' + id);\n				var $progress = $('<div>').attr('class', 'w3-pale-green ').attr('style', 'height: 24px; width: ' + percent + '; ').attr('id', 'progress-' + id).text(numPATCH + '/' + numFound);\n				$card.append($header);\n				$header.append($i);\n				$header.append($headerSpan);\n				$header.append($x);\n				$body.append($bar);\n				$bar.append($progress);\n				$card.append($body);\n				$box.append($margin);\n				$margin.append($card);\n				if(numPATCH < numFound) {\n					var $old_box = $('.box-' + id);\n					if(!$old_box.size()) {\n						$('.top-box').append($box);\n					} else if($old_box && $old_box.attr('data-numPATCH') < numFound) {\n						$('.box-' + id).html($margin);\n					}\n				} else {\n					$('.box-' + id).remove();\n				}\n				if(pk && pkPage && pk == pkPage) {\n					if(success)\n						success(json);\n				}\n			});\n		}\n		//]]></script>\n";
},"3":function(container,depth0,helpers,partials,data) {
    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    };

  return "	<div id='wrap'>\n\n		<div class=\"w3-top w3-2017-navy-peony \">\n			<div class=\"w3-bar w3-content \">\n				<div class=\"w3-dropdown-hover w3-hide-medium w3-hide-large \">\n					<button class=\"w3-button \">\n						<i class=\"fas fa-bars\"></i>\n					</button>\n					<div class=\"w3-dropdown-content w3-bar-block w3-card-4 \">\n						<a class=\"w3-bar-item w3-button \" href=\"/about\">About</a>\n					</div>\n				</div>\n				<a class=\"w3-bar-item w3-button font-weight-bold \" href=\"/\">Open Data Policing</a>\n				<a class=\"w3-bar-item w3-hide-small \" href=\"/about\">About</a>\n			</div>\n		</div>\n\n		<div class=\"w3-2017-navy-peony w3-padding-64 \">\n			<div class=\"w3-content w3-center \">\n				<div class=\"row\">\n					<h1 class='title'>Open Data Policing</h1>\n					<p class='tagline'>Search all known <span id=\"state-names\">"
    + ((stack1 = lookupProperty(helpers,"each").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"states") : depth0),{"name":"each","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":107,"column":64},"end":{"line":107,"column":133}}})) != null ? stack1 : "")
    + "</span> traffic stops</p>\n				</div>\n				<div id=\"state-list\" class=\"w3-row\" style=\"height: 208px; \">\n"
    + ((stack1 = lookupProperty(helpers,"each").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"states") : depth0),{"name":"each","hash":{},"fn":container.program(9, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":110,"column":5},"end":{"line":116,"column":14}}})) != null ? stack1 : "")
    + "				</div>\n			</div>\n		</div>\n\n		<div class=\"w3-text-white \" style=\"background-image: url('"
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":121,"column":60},"end":{"line":121,"column":77}}}) : helper)))
    + "/jpg/cars-at-day.jpg'); background-size: cover; text-shadow: 1px 1px 0 #444; \">\n			<div class=\"w3-content \">\n				<div class=\"w3-roww3-padding-32 \">\n					<div class=\"w3-rest \">\n						<blockquote>\n							<p class=\"w3-xlarge \">“This platform presents the information in a manner that\n								increases the transparency of the Fayetteville Police Department\n								and improves the community and police relationship.”</p>\n							<footer class=\"w3-text-light-gray \">­— Harold Medlock, Fayetteville Police Chief</footer>\n						</blockquote>\n					</div>\n				</div>\n				<div class=\"w3-row w3-padding-32 \">\n					<hr class=\"\">\n					<div class=\"w3-third w3-mobile w3-container \">\n						<h3>Locate an Officer's Career Stop and Search History</h3>\n						<p class=\"justify\">Stopped by the police? Use our “Find a\n							Stop” feature to locate your traffic stop. Click on the\n							associated Officer ID number to display the enforcement history\n							of the officer who stopped you. Maryland data includes an\n							officer’s stop, search, and contraband seizure data, broken down\n							by race and ethnicity. North Carolina data includes these\n							features in addition to use-of-force data (traffic stops only).</p>\n					</div>\n					<div class=\"w3-third w3-mobile w3-container \">\n						<h3>Review Departmental Enforcement Patterns</h3>\n						<p class=\"justify\">Learn more about the enforcement patterns\n							of individual police agencies. Metrics include stops, searches,\n							search rates, contraband seizure rates, and the likelihood of\n							search for individual stop causes—each broken down by race and\n							ethnicity. Click on the “Agencies” tab to review who is stopped\n							and searched in a given jurisdiction and how enforcement patterns\n							compare to local demographics, displayed through the most\n							recently available census data.</p>\n					</div>\n					<div class=\"w3-third w3-mobile w3-container \">\n						<h3>Compare Enforcement Practices Among Officers and\n							Jurisdictions</h3>\n						<p class=\"justify\">Our platform allows users—including those\n							in police management—to easily compare enforcement patterns among\n							individual officers and agencies, evaluate the frequency and\n							efficiency of searches, and monitor for racially disparate\n							enforcement practices. Police managers who possess a master list\n							of Officer ID codes can bypass the “Find a Stop” page to directly\n							access data on individual officers under their command.</p>\n					</div>\n				</div>\n			</div>\n		</div>\n";
},"4":function(container,depth0,helpers,partials,data) {
    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    };

  return ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(data && lookupProperty(data,"first")),{"name":"if","hash":{},"fn":container.program(5, data, 0),"inverse":container.program(7, data, 0),"data":data,"loc":{"start":{"line":107,"column":80},"end":{"line":107,"column":111}}})) != null ? stack1 : "")
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"stateName") || (depth0 != null ? lookupProperty(depth0,"stateName") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"stateName","hash":{},"data":data,"loc":{"start":{"line":107,"column":111},"end":{"line":107,"column":124}}}) : helper)));
},"5":function(container,depth0,helpers,partials,data) {
    return "";
},"7":function(container,depth0,helpers,partials,data) {
    return ", ";
},"9":function(container,depth0,helpers,partials,data) {
    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    };

  return "					<div class=\"w3-rest \">\n						<img src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":112,"column":16},"end":{"line":112,"column":33}}}) : helper)))
    + "/svg/state-"
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"stateAbbreviation") || (depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"stateAbbreviation","hash":{},"data":data,"loc":{"start":{"line":112,"column":44},"end":{"line":112,"column":65}}}) : helper)))
    + ".svg\" class=\"state-img w3-img \" style=\"height: 128px; \"/>\n						<p><span class=\"state-stop-count \">"
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"stopCountStr") || (depth0 != null ? lookupProperty(depth0,"stopCountStr") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"stopCountStr","hash":{},"data":data,"loc":{"start":{"line":113,"column":41},"end":{"line":113,"column":57}}}) : helper)))
    + "</span><span> stops</span></p>\n						<a class=\"state-search-link \" href=\"/report?var=stateAbbreviation:"
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"stateAbbreviation") || (depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"stateAbbreviation","hash":{},"data":data,"loc":{"start":{"line":114,"column":72},"end":{"line":114,"column":93}}}) : helper)))
    + "\" class=\"w3-btn \">"
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"stateName") || (depth0 != null ? lookupProperty(depth0,"stateName") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"stateName","hash":{},"data":data,"loc":{"start":{"line":114,"column":111},"end":{"line":114,"column":124}}}) : helper)))
    + " "
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"stateAbbreviation") || (depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"stateAbbreviation","hash":{},"data":data,"loc":{"start":{"line":114,"column":125},"end":{"line":114,"column":146}}}) : helper)))
    + "</a>\n					</div>\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    };

  return "\n"
    + ((stack1 = (lookupProperty(helpers,"partial")||(depth0 && lookupProperty(depth0,"partial"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"head_content",{"name":"partial","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":2,"column":0},"end":{"line":83,"column":12}}})) != null ? stack1 : "")
    + "\n"
    + ((stack1 = (lookupProperty(helpers,"partial")||(depth0 && lookupProperty(depth0,"partial"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"body_content",{"name":"partial","hash":{},"fn":container.program(3, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":85,"column":0},"end":{"line":170,"column":12}}})) != null ? stack1 : "")
    + ((stack1 = container.invokePartial(lookupProperty(partials,"base-page"),depth0,{"name":"base-page","data":data,"helpers":helpers,"partials":partials,"decorators":container.decorators})) != null ? stack1 : "")
    + "\n";
},"usePartial":true,"useData":true});
  var templates = Handlebars.templates = Handlebars.templates || {};
  templates['home-page'] = template;
  var partials = Handlebars.partials = Handlebars.partials || {};
  partials['home-page'] = template;


// Source: /usr/local/src/opendatapolicing-static/template/openapi.hbs

  var template = Handlebars.template({"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    };

  return "<!DOCTYPE html>\n<html>\n<head>\n<meta charset=utf-8>\n<meta name=viewport content=\"width=device-width,initial-scale=1\">\n<meta name=description\n	content=\"OpenAPI and Swagger Spec Viewer and console\">\n<meta name=keywords\n	content=\"Swagger,Open API,OpenAPI,REST API Spec,Alternate to SwaggerUI,SwaggerUI, Swagger UI, MrinDoc\">\n<link rel=icon href=./favicon1.ico>\n<title>MrinDoc OpenAPI Spec Viewer</title>\n<link href=/static"
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":12,"column":18},"end":{"line":12,"column":35}}}) : helper)))
    + "/openapi-viewer/css/chunk-53aeb0d8.972b1ce3.css rel=prefetch>\n<link href="
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":13,"column":11},"end":{"line":13,"column":28}}}) : helper)))
    + "/openapi-viewer/css/chunk-da3973d8.a8752431.css rel=prefetch>\n<link href="
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":14,"column":11},"end":{"line":14,"column":28}}}) : helper)))
    + "/openapi-viewer/js/chunk-53aeb0d8.248f1ff7.js rel=prefetch>\n<link href="
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":15,"column":11},"end":{"line":15,"column":28}}}) : helper)))
    + "/openapi-viewer/js/chunk-da3973d8.709e0552.js rel=prefetch>\n<link href="
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":16,"column":11},"end":{"line":16,"column":28}}}) : helper)))
    + "/openapi-viewer/css/app.b15ed28c.css rel=preload as=style>\n<link href="
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":17,"column":11},"end":{"line":17,"column":28}}}) : helper)))
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":17,"column":28},"end":{"line":17,"column":45}}}) : helper)))
    + "/openapi-viewer/css/chunk-vendors.05b95afe.css rel=preload\n	as=style>\n<link href="
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":19,"column":11},"end":{"line":19,"column":28}}}) : helper)))
    + "/openapi-viewer/js/app.b777afbc.js rel=modulepreload\n	as=script>\n<link href="
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":21,"column":11},"end":{"line":21,"column":28}}}) : helper)))
    + "/openapi-viewer/js/chunk-vendors.c4c1a68b.js\n	rel=modulepreload as=script>\n<link href="
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":23,"column":11},"end":{"line":23,"column":28}}}) : helper)))
    + "/openapi-viewer/css/chunk-vendors.05b95afe.css rel=stylesheet>\n<link href="
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":24,"column":11},"end":{"line":24,"column":28}}}) : helper)))
    + "/openapi-viewer/css/app.b15ed28c.css rel=stylesheet>\n</head>\n<body>\n	<div id=app></div>\n	<script type=module src="
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":28,"column":25},"end":{"line":28,"column":42}}}) : helper)))
    + "/openapi-viewer/js/chunk-vendors.c4c1a68b.js></script>\n	<script type=module src="
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":29,"column":25},"end":{"line":29,"column":42}}}) : helper)))
    + "/openapi-viewer/js/app.b777afbc.js></script>\n	<script>\n		!function() {\n			var e = document, t = e.createElement(\"script\");\n			if (!(\"noModule\" in t) && \"onbeforeload\" in t) {\n				var n = !1;\n				e.addEventListener(\"beforeload\", function(e) {\n					if (e.target === t)\n						n = !0;\n					else if (!e.target.hasAttribute(\"nomodule\") || !n)\n						return;\n					e.preventDefault()\n				}, !0), t.type = \"module\", t.src = \".\", e.head.appendChild(t),\n						t.remove()\n			}\n		}();\n	</script>\n	<script src="
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":46,"column":13},"end":{"line":46,"column":30}}}) : helper)))
    + "/openapi-viewer/js/chunk-vendors-legacy.a661f494.js\n		nomodule></script>\n	<script src="
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":48,"column":13},"end":{"line":48,"column":30}}}) : helper)))
    + "/openapi-viewer/js/app-legacy.08fa9260.js nomodule></script>\n</body>\n</html>";
},"useData":true});
  var templates = Handlebars.templates = Handlebars.templates || {};
  templates['openapi'] = template;
  var partials = Handlebars.partials = Handlebars.partials || {};
  partials['openapi'] = template;


// Source: /usr/local/src/opendatapolicing-static/template/traffic-stop-report.hbs

  var template = Handlebars.template({"1":function(container,depth0,helpers,partials,data) {
    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    };

  return "		<title>Open Data Policing | </title>\n		<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/>\n		<link rel=\"stylesheet\" href=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":5,"column":31},"end":{"line":5,"column":48}}}) : helper)))
    + "/css/w3.css\"/>\n		<link rel=\"stylesheet\" href=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":6,"column":31},"end":{"line":6,"column":48}}}) : helper)))
    + "/css/site-enUS.css\"/>\n		<script src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":7,"column":15},"end":{"line":7,"column":32}}}) : helper)))
    + "/js/jquery-1.12.4.min.js\"></script>\n		<script src=\"https://kit.fontawesome.com/59d19567d5.js\"></script>\n		<script src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":9,"column":15},"end":{"line":9,"column":32}}}) : helper)))
    + "/js/site-enUS.js\"></script>\n		<script src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":10,"column":15},"end":{"line":10,"column":32}}}) : helper)))
    + "/js/d3.v3.js\"></script>\n		<script src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":32}}}) : helper)))
    + "/js/nv.d3.js\"></script>\n		<link rel=\"stylesheet\" href=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":12,"column":31},"end":{"line":12,"column":48}}}) : helper)))
    + "/css/nv.d3.css\"/>\n<script>//<![CDATA[\n\nfunction yearSearch() {\n	var url = \""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"siteBaseUrl") || (depth0 != null ? lookupProperty(depth0,"siteBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"siteBaseUrl","hash":{},"data":data,"loc":{"start":{"line":16,"column":12},"end":{"line":16,"column":27}}}) : helper)))
    + "/api/traffic-stop?rows=0&facet=true&facet.field=stopYear\"\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":17,"column":6},"end":{"line":17,"column":91}}})) != null ? stack1 : "")
    + "\"\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"agencyTitle") : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":18,"column":6},"end":{"line":18,"column":73}}})) != null ? stack1 : "")
    + "\"\n			;\n	$.get(url, function( searchData ) {\n\n		$('#selectStopCountPie').append('<option value=\"\">Total</option>');\n\n		var years = Object.keys(searchData.facet_fields.stopYear).sort();\n		years.forEach(function(year) {\n			$('#selectStopCountPie').append('<option value=\"' + year + '\">' + year + '</option>');\n		});\n	});\n}\nyearSearch();\n\nfunction svgStopCountPie(year) {\n	var url = \""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"siteBaseUrl") || (depth0 != null ? lookupProperty(depth0,"siteBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"siteBaseUrl","hash":{},"data":data,"loc":{"start":{"line":33,"column":12},"end":{"line":33,"column":27}}}) : helper)))
    + "/api/traffic-stop?rows=0&facet=true&facet.field=personRaceTitles\" \n			+ (year ? (\"&fq=stopYear:\" + year) : \"\")\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":35,"column":6},"end":{"line":35,"column":91}}})) != null ? stack1 : "")
    + "\"\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"agencyTitle") : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":36,"column":6},"end":{"line":36,"column":73}}})) != null ? stack1 : "")
    + "\"\n			;\n	$.get(url, function( searchData ) {\n		var graphData = [];\n		var facetTotal = 0;\n		var personRaceTitles = Object.keys(searchData.facet_fields.personRaceTitles);\n		personRaceTitles.forEach(function(fieldLabel) {\n			facetTotal += searchData.facet_fields.personRaceTitles[fieldLabel];\n		});\n		personRaceTitles.forEach(function(fieldLabel) {\n			var a = searchData.facet_fields.personRaceTitles[fieldLabel];\n			var c = facetTotal == 0 ? 0 : (a / facetTotal);\n			var itemData = { label: fieldLabel, value: c };\n			graphData.push(itemData);\n		});\n\n		nv.addGraph(function() {\n			var chart = nv.models.pieChart()\n				.x(function(d) { return d.label })\n				.y(function(d) { return d.value })\n				.showLabels(true)\n				.labelThreshold(.05)\n				.labelType('percent')\n				.donut(true)\n				.donutRatio(0.35)\n				;\n\n			d3.select('#svgStopCountPie')\n				.datum(graphData)\n				.transition().duration(350)\n				.call(chart);\n\n			return chart;\n		});\n	});\n}\nsvgStopCountPie();\n\nfunction svgStopCountPercent(year) {\n	var url = \""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"siteBaseUrl") || (depth0 != null ? lookupProperty(depth0,"siteBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"siteBaseUrl","hash":{},"data":data,"loc":{"start":{"line":75,"column":12},"end":{"line":75,"column":27}}}) : helper)))
    + "/api/traffic-stop?rows=0&facet=true&facet.range.start=1990-01-01T00:00:00.000Z&facet.range.end=NOW&facet.range.gap=%2B1YEAR&facet.range={!tag=r1}stopDateTime&facet.pivot={!range=r1}personRaceTitles\"\n			+ (year ? (\"&fq=stopYear:\" + year) : \"\")\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":77,"column":6},"end":{"line":77,"column":91}}})) != null ? stack1 : "")
    + "\"\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"agencyTitle") : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":78,"column":6},"end":{"line":78,"column":73}}})) != null ? stack1 : "")
    + "\"\n			;\n	$.get(url, function( searchData ) {\n		var graphData = [];\n		for (i = 0; i < searchData.facet_pivot.personRaceTitles.length; i++) {\n			var pivotData = searchData.facet_pivot.personRaceTitles[i];\n			var itemValues = [];\n			var itemData = { key: pivotData.value, seriesIndex: i, values: itemValues };\n			var countKeys = Object.keys(pivotData.ranges.stopDateTime.counts);\n			countKeys.forEach(function(countKey) {\n				var a = pivotData.ranges.stopDateTime.counts[countKey];\n				var b = searchData.facet_ranges.stopDateTime.counts[countKey];\n				var c = b == 0 ? 0 : (a / b);\n				var itemRangeValues = { x: parseInt(countKey.substr(0, countKey.indexOf('-'))), y: c, series: i }\n				itemValues.push(itemRangeValues);\n			});\n			graphData.push(itemData);\n		}\n\n		nv.addGraph(function() {\n			var chart = nv.models.lineChart()\n				.margin({left: 100})\n				.useInteractiveGuideline(true)\n				.transitionDuration(350)\n				.showLegend(true)\n				.showYAxis(true)\n				.showXAxis(true)\n				.forceY([0, 1])\n				;\n\n			chart.xAxis\n				.axisLabel('Year')\n				.tickFormat(d3.format('.0d'))\n				;\n\n			chart.yAxis\n				.axisLabel('Percentage of stops by race')\n				.tickFormat(d3.format('%'));\n				;\n\n			d3.select('#svgStopCountPercent')\n				.datum(graphData)\n				.call(chart);\n\n			return chart;\n		});\n	});\n}\nsvgStopCountPercent();\n\nfunction svgStopCountTotal(stopPurposeTitle) {\n	var url = \""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"siteBaseUrl") || (depth0 != null ? lookupProperty(depth0,"siteBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"siteBaseUrl","hash":{},"data":data,"loc":{"start":{"line":129,"column":12},"end":{"line":129,"column":27}}}) : helper)))
    + "/api/traffic-stop?rows=0&facet=true&facet.range.start=1999-12-30T00:00:00.000Z&facet.range.end=NOW&facet.range.gap=%2B1YEAR&facet.range={!tag=r1}stopDateTime&facet.pivot={!range=r1}personRaceTitles\"\n			+ (stopPurposeTitle ? (\"&fq=stopPurposeTitle:\" + stopPurposeTitle) : \"\")\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":131,"column":6},"end":{"line":131,"column":91}}})) != null ? stack1 : "")
    + "\"\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"agencyTitle") : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":132,"column":6},"end":{"line":132,"column":73}}})) != null ? stack1 : "")
    + "\"\n			;\n	$.get(url, function( searchData ) {\n		var graphData = [];\n		for (i = 0; i < searchData.facet_pivot.personRaceTitles.length; i++) {\n			var pivotData = searchData.facet_pivot.personRaceTitles[i];\n			var itemValues = [];\n			var itemData = { key: pivotData.value, seriesIndex: i, values: itemValues };\n			var countKeys = Object.keys(pivotData.ranges.stopDateTime.counts);\n			countKeys.forEach(function(countKey) {\n				var a = pivotData.ranges.stopDateTime.counts[countKey];\n				var b = searchData.facet_ranges.stopDateTime.counts[countKey];\n				var c = a;\n				var itemRangeValues = { x: parseInt(countKey.substr(0, countKey.indexOf('-'))), y: c, series: i }\n				itemValues.push(itemRangeValues);\n			});\n			graphData.push(itemData);\n		}\n\n		nv.addGraph(function() {\n			var chart = nv.models.lineChart()\n				.margin({left: 100})\n				.useInteractiveGuideline(true)\n				.transitionDuration(350)\n				.showLegend(true)\n				.showYAxis(true)\n				.showXAxis(true)\n				;\n\n			chart.xAxis\n				.axisLabel('Year')\n				.tickFormat(d3.format('.0d'))\n				;\n\n			chart.yAxis\n				.axisLabel('Stops by race')\n				;\n\n			d3.select('#svgStopCountTotal')\n				.datum(graphData)\n				.call(chart);\n\n			return chart;\n		});\n	});\n}\nsvgStopCountTotal();\n\nfunction svgSearchCountTotal(searchTypeTitle) {\n	var url = \""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"siteBaseUrl") || (depth0 != null ? lookupProperty(depth0,"siteBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"siteBaseUrl","hash":{},"data":data,"loc":{"start":{"line":181,"column":12},"end":{"line":181,"column":27}}}) : helper)))
    + "/api/traffic-search?rows=0&facet=true&facet.range.start=1999-12-30T00:00:00.000Z&facet.range.end=NOW&facet.range.gap=%2B1YEAR&facet.range={!tag=r1}stopDateTime&facet.pivot={!range=r1}personRaceTitle\"\n			+ (searchTypeTitle ? (\"&fq=searchTypeTitle:\" + searchTypeTitle) : \"\")\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":183,"column":6},"end":{"line":183,"column":91}}})) != null ? stack1 : "")
    + "\"\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"agencyTitle") : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":184,"column":6},"end":{"line":184,"column":73}}})) != null ? stack1 : "")
    + "\"\n			;\n	$.get(url, function( searchData ) {\n		var graphData = [];\n		for (i = 0; i < searchData.facet_pivot.personRaceTitle.length; i++) {\n			var pivotData = searchData.facet_pivot.personRaceTitle[i];\n			var itemValues = [];\n			var itemData = { key: pivotData.value, seriesIndex: i, values: itemValues };\n			Object.keys(pivotData.ranges.stopDateTime.counts).forEach(function(stopDateTimeKey) {\n				var a = pivotData.ranges.stopDateTime.counts[stopDateTimeKey];\n				var b = searchData.facet_ranges.stopDateTime.counts[stopDateTimeKey];\n				var c = a;\n				var itemRangeValues = { x: parseInt(stopDateTimeKey.substr(0, stopDateTimeKey.indexOf('-'))), y: c, series: i }\n				itemValues.push(itemRangeValues);\n			});\n			graphData.push(itemData);\n		}\n\n		nv.addGraph(function() {\n			var chart = nv.models.lineChart()\n				.margin({left: 100})\n				.useInteractiveGuideline(true)\n				.transitionDuration(350)\n				.showLegend(true)\n				.showYAxis(true)\n				.showXAxis(true)\n				;\n\n			chart.xAxis\n				.axisLabel('Date')\n				.tickFormat(d3.format('.0d'))\n				;\n\n			chart.yAxis\n				.axisLabel('Stops by race')\n				;\n\n			d3.select('#svgSearchCountTotal')\n				.datum(graphData)\n				.call(chart);\n\n			return chart;\n		});\n	});\n}\nsvgSearchCountTotal();\n\nfunction svgSearchRatePercentOfStops(year) {\n	var url = \""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"siteBaseUrl") || (depth0 != null ? lookupProperty(depth0,"siteBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"siteBaseUrl","hash":{},"data":data,"loc":{"start":{"line":232,"column":12},"end":{"line":232,"column":27}}}) : helper)))
    + "/api/traffic-stop?rows=0&facet=true&facet.range.start=1990-01-01T00:00:00.000Z&facet.range.end=NOW&facet.range.gap=%2B1YEAR&facet.range={!tag=r1}stopDateTime&facet.pivot={!range=r1}personRaceTitles,trafficSearchRaceTitles\"\n			+ (year ? (\"&fq=stopYear:\" + year) : \"\")\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":234,"column":6},"end":{"line":234,"column":91}}})) != null ? stack1 : "")
    + "\"\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"agencyTitle") : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":235,"column":6},"end":{"line":235,"column":73}}})) != null ? stack1 : "")
    + "\"\n			;\n	$.get(url, function( searchData ) {\n		var graphData = [];\n		for (i = 0; i < searchData.facet_pivot['personRaceTitles,trafficSearchRaceTitles'].length; i++) {\n			var pivotData = searchData.facet_pivot['personRaceTitles,trafficSearchRaceTitles'][i];\n			var itemValues = [];\n			var itemData = { key: pivotData.value, seriesIndex: i, values: itemValues };\n			Object.keys(pivotData.ranges.stopDateTime.counts).forEach(function(stopDateTimeKey) {\n				var a = 0;\n				if(pivotData.pivot) {\n					var trafficSearchRaceTitleData = pivotData.pivot.find(x => x.value === pivotData.value);\n					if(trafficSearchRaceTitleData)\n						a = trafficSearchRaceTitleData.count;\n				}\n				var b = pivotData.ranges.stopDateTime.counts[stopDateTimeKey];\n				var c = b == 0 ? 0 : (a / b);\n				var itemRangeValues = { x: parseInt(stopDateTimeKey.substr(0, stopDateTimeKey.indexOf('-'))), y: c, series: i }\n				itemValues.push(itemRangeValues);\n			});\n			graphData.push(itemData);\n		}\n\n		nv.addGraph(function() {\n			var chart = nv.models.lineChart()\n				.margin({left: 100})\n				.useInteractiveGuideline(true)\n				.transitionDuration(350)\n				.showLegend(true)\n				.showYAxis(true)\n				.showXAxis(true)\n				;\n\n			chart.xAxis\n				.axisLabel('Year')\n				.tickFormat(d3.format('.0d'))\n				;\n\n			chart.yAxis\n				.axisLabel('Percentage of stops by race')\n				.tickFormat(d3.format('%'));\n				;\n\n			d3.select('#svgSearchRatePercentOfStops')\n				.datum(graphData)\n				.call(chart);\n\n			return chart;\n		});\n	});\n}\nsvgSearchRatePercentOfStops();\n\nfunction svgSearchRatePie(year) {\n	var url = \""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"siteBaseUrl") || (depth0 != null ? lookupProperty(depth0,"siteBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"siteBaseUrl","hash":{},"data":data,"loc":{"start":{"line":289,"column":12},"end":{"line":289,"column":27}}}) : helper)))
    + "/api/traffic-search?rows=0&facet=true&facet.field=personRaceTitle\"\n			+ (year ? (\"&fq=stopYear:\" + year) : \"\")\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":291,"column":6},"end":{"line":291,"column":91}}})) != null ? stack1 : "")
    + "\"\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"agencyTitle") : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":292,"column":6},"end":{"line":292,"column":73}}})) != null ? stack1 : "")
    + "\"\n			;\n	$.get(url, function( searchData ) {\n		var graphData = [];\n		var facetTotal = 0;\n		Object.keys(searchData.facet_fields.personRaceTitle).forEach(function(personRaceTitle) {\n			var fieldLabel = searchData.facet_fields.personRaceTitle[personRaceTitle];\n			facetTotal += searchData.facet_fields.personRaceTitle[personRaceTitle];\n		});\n		Object.keys(searchData.facet_fields.personRaceTitle).forEach(function(personRaceTitle) {\n			var fieldLabel = personRaceTitle;\n			var a = searchData.facet_fields.personRaceTitle[personRaceTitle];\n			var c = facetTotal == 0 ? 0 : (a / facetTotal);\n			var itemData = { label: fieldLabel, value: c };\n			graphData.push(itemData);\n		});\n\n		nv.addGraph(function() {\n			var chart = nv.models.pieChart()\n				.x(function(d) { return d.label })\n				.y(function(d) { return d.value })\n				.showLabels(true)\n				.labelThreshold(.05)\n				.labelType('percent')\n				.donut(true)\n				.donutRatio(0.35)\n				;\n\n			d3.select('#svgSearchRatePie')\n				.datum(graphData)\n				.transition().duration(350)\n				.call(chart);\n\n			return chart;\n		});\n	});\n}\nsvgSearchRatePie();\n\nfunction svgSearchRatePercentTotal(year) {\n	var url = \""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"siteBaseUrl") || (depth0 != null ? lookupProperty(depth0,"siteBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"siteBaseUrl","hash":{},"data":data,"loc":{"start":{"line":332,"column":12},"end":{"line":332,"column":27}}}) : helper)))
    + "/api/traffic-search?rows=0&facet=true&facet.range.start=1990-01-01T00:00:00.000Z&facet.range.end=NOW&facet.range.gap=%2B1YEAR&facet.range={!tag=r1}stopDateTime&facet.pivot={!range=r1}personRaceTitle\"\n			+ (year ? (\"&fq=stopYear:\" + year) : \"\")\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":334,"column":6},"end":{"line":334,"column":91}}})) != null ? stack1 : "")
    + "\"\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"agencyTitle") : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":335,"column":6},"end":{"line":335,"column":73}}})) != null ? stack1 : "")
    + "\"\n			;\n	$.get(url, function( searchData ) {\n		var graphData = [];\n		for (i = 0; i < searchData.facet_pivot.personRaceTitle.length; i++) {\n			var pivotData = searchData.facet_pivot.personRaceTitle[i];\n			var itemValues = [];\n			var itemData = { key: pivotData.value, seriesIndex: i, values: itemValues };\n			Object.keys(pivotData.ranges.stopDateTime.counts).forEach(function(stopDateTimeKey) {\n				var a = pivotData.ranges.stopDateTime.counts[stopDateTimeKey];\n				var b = searchData.facet_ranges.stopDateTime.counts[stopDateTimeKey];\n				var c = b == 0 ? 0 : (a / b);\n				var itemRangeValues = { x: parseInt(stopDateTimeKey.substr(0, stopDateTimeKey.indexOf('-'))), y: c, series: i }\n				itemValues.push(itemRangeValues);\n			});\n			graphData.push(itemData);\n		}\n\n		nv.addGraph(function() {\n			var chart = nv.models.lineChart()\n				.margin({left: 100})\n				.useInteractiveGuideline(true)\n				.transitionDuration(350)\n				.showLegend(true)\n				.showYAxis(true)\n				.showXAxis(true)\n				.forceY([0, 1])\n				;\n\n			chart.xAxis\n				.axisLabel('Year')\n				.tickFormat(d3.format('.0d'))\n				;\n\n			chart.yAxis\n				.axisLabel('Percentage of searches by race')\n				.tickFormat(d3.format('%'));\n				;\n\n			d3.select('#svgSearchRatePercentTotal')\n				.datum(graphData)\n				.call(chart);\n\n			return chart;\n		});\n	});\n}\nsvgSearchRatePercentTotal();\n\nfunction svgCauseLikelihoodPercent(year) {\n	var url1 = \"/api/traffic-stop?rows=0&facet=true&facet.pivot=personRaceTitles,stopPurposeTitle&facet.field=stopPurposeTitle\"\n			+ (year ? (\"&fq=stopYear:\" + year) : \"\")\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":387,"column":6},"end":{"line":387,"column":91}}})) != null ? stack1 : "")
    + "\"\n			+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"agencyTitle") : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":388,"column":6},"end":{"line":388,"column":73}}})) != null ? stack1 : "")
    + "\"\n			;\n	$.get(url1, function( stopData ) {\n		var url2 = \"/api/traffic-search?rows=0&facet=true&facet.pivot=personRaceTitle,stopPurposeTitle&facet.field=stopPurposeTitle\"\n				+ (year ? (\"&fq=stopYear:\" + year) : \"\")\n				+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":393,"column":7},"end":{"line":393,"column":92}}})) != null ? stack1 : "")
    + "\"\n				+ \""
    + ((stack1 = lookupProperty(helpers,"if").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"agencyTitle") : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":394,"column":7},"end":{"line":394,"column":74}}})) != null ? stack1 : "")
    + "\"\n				;\n		$.get(url2, function( searchData ) {\n			var graphData = [];\n			for (i = 0; i < searchData.facet_pivot['personRaceTitle,stopPurposeTitle'].length; i++) {\n				var pivotData = searchData.facet_pivot['personRaceTitle,stopPurposeTitle'][i];\n				if(pivotData.value != 'White') {\n					var itemValues = [];\n					var itemData = { key: 'White vs. ' + pivotData.value, seriesIndex: i, values: itemValues };\n					for (j = 0; j < pivotData.pivot.length; j++) {\n						var rangeData = pivotData.pivot[j];\n						var a = rangeData.count;\n						var b = stopData.facet_pivot['personRaceTitles,stopPurposeTitle'].find(x => x.value === pivotData.value).pivot.find(x => x.value === rangeData.value).count;\n						var c = b == 0 ? 0 : (a / b);\n						var pivotDataWhite = searchData.facet_pivot['personRaceTitle,stopPurposeTitle'].find(x => x.value === 'White');\n						var rangeDataWhite = pivotDataWhite.pivot.find(x => x.value === rangeData.value);\n						var aWhite = rangeDataWhite.count;\n						var bWhite = stopData.facet_pivot['personRaceTitles,stopPurposeTitle'].find(x => x.value === 'White').pivot.find(x => x.value === rangeData.value).count;\n						var cWhite = bWhite == 0 ? 0 : (aWhite / bWhite);\n						var z = (c - cWhite)/cWhite;\n						if(!c || !isFinite(z))\n							z = 0;\n						var itemRangeValues = { label: rangeData.value, value: z }\n						itemValues.push(itemRangeValues);\n					}\n					graphData.push(itemData);\n				}\n			}\n\n			nv.addGraph(function() {\n				var chart = nv.models.multiBarHorizontalChart()\n					.x((d) => d.label)\n					.y((d) => d.value)\n					.margin({top: 20, right: 50, bottom: 20, left: 180})\n					.showValues(true)\n					.tooltips(true)\n					.transitionDuration(350)\n					.showControls(false)\n					;\n\n				chart.yAxis\n					.axisLabel('Additional percentage or search by search-cause')\n					.tickFormat(d3.format('%'));\n					;\n\n				chart\n					.valueFormat(d3.format('%'));\n					;\n\n				d3.select('#svgCauseLikelihoodPercent')\n					.datum(graphData)\n					.attr('width', \"100%\")\n					.attr('height', \"100%\")\n					.attr('preserveAspectRatio', \"xMinYMin\")\n					.call(chart)\n					;\n\n				nv.utils.windowResize(chart.update);\n\n				return chart;\n			});\n		});\n	});\n}\nsvgCauseLikelihoodPercent();\n//]]></script>\n\n";
},"2":function(container,depth0,helpers,partials,data) {
    var lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    };

  return "&fq=stateAbbreviation:"
    + container.escapeExpression((lookupProperty(helpers,"urlencode")||(depth0 && lookupProperty(depth0,"urlencode"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"stateAbbreviation") : depth0),{"name":"urlencode","hash":{},"data":data,"loc":{"start":{"line":17,"column":53},"end":{"line":17,"column":84}}}));
},"4":function(container,depth0,helpers,partials,data) {
    var lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    };

  return "&fq=agencyTitle:"
    + container.escapeExpression((lookupProperty(helpers,"urlencode")||(depth0 && lookupProperty(depth0,"urlencode"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,"agencyTitle") : depth0),{"name":"urlencode","hash":{},"data":data,"loc":{"start":{"line":18,"column":41},"end":{"line":18,"column":66}}}));
},"6":function(container,depth0,helpers,partials,data) {
    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    };

  return "		<div class=\"w3-content \">\n			<div class=\"w3-center w3-white \">\n				<div class=\"\">\n					<div class=\"site-menu-custom w3-bar w3-text-black w3-padding-bottom-8 w3-padding-top-8 font-weight-bold \" style=\"padding-left: 16px; padding-right: 16px; font-family: Overlock; \">\n						<div class=\"site-bar-item w3-bar-item \">\n							<a class=\"text-decoration-none \" href=\"/\"><span class=\"site-menu-item\"><i class=\"far fa-home \"></i> Home</span></a>\n						</div>\n	\n						<div class=\"site-bar-item w3-bar-item \">\n							<a class=\"w3-padding \" href=\"/user\"><span class=\"site-menu-item\"><i class=\"far fa-sign-in-alt \"></i>login</span></a>\n						</div>\n					</div>\n				</div>\n			</div>\n			<div>\n				<svg id=\"svgCensusCountPie\" style=\"width: 600px; height: 400px; \"></svg>\n			</div>\n			<h2>Traffic Stops</h2>\n			<h3>Traffic Stops (percentage by race/ethnic composition)</h3>\n			<p>These graphs reflect the race/ethnic composition of drivers stopped by law enforcement officers in the jurisdiction since the department began reporting its data to the state. </p>\n			<div>\n				<svg id=\"svgStopCountPie\" style=\"width: 600px; height: 400px; \"></svg>\n			</div>\n			<div>\n				<select id=\"selectStopCountPie\" onchange=\"svgStopCountPie(this.value)\"></select>\n			</div>\n			<p class=\"font-style-italic \">Adjusting the drop down menu will display the race/ethnic composition breakdown of stops on a year-by-year basis. Some percentages may be based on low levels of observation. </p>\n			<p class=\"font-style-italic \">* Non-hispanic</p>		<h3>Longitudinal view of annual traffic stops</h3>\n			<div>\n				<svg id=\"svgStopCountPercent\" style=\"width: 600px; height: 400px; \"></svg>\n			</div>\n			<p class=\"font-style-italic \">Drag the cursor over the graph to see the race/ethnic composition breakdown for any given year. Some percentages may be based on low levels of observation. Click the \"Data\" tab to review the actual raw counts from the NC Department of Justice. </p>\n			<p class=\"font-style-italic \">* Non-hispanic</p>\n			<h3>Departmental Stop Count</h3>\n			<p>This graph displays the number of traffic stops broken down by stop purpose and ethnicity. Adjusting the drop down menu will display the individual stop counts relative to ethnic groups on a year-by-year basis. </p>\n			<div>\n				<svg id=\"svgStopCountTotal\" style=\"width: 600px; height: 400px; \"></svg>\n			</div>\n			<p class=\"font-style-italic \">Drag the cursor over the graph to see the racial breakdown for any given year. Some percentages may be based on low levels of observation. Click the “Data” tab to review the raw stop data. </p>\n			<h3>Departmental Search Count</h3>\n			<p>This graph displays the number of searches broken down by search type and ethnicity. Adjusting the drop down menu will display the individual search counts relative to ethnic groups on a year-by-year basis. </p>\n			<div>\n				<svg id=\"svgSearchCountTotal\" style=\"width: 600px; height: 400px; \"></svg>\n			</div>\n			<p class=\"font-style-italic \">Drag the cursor over the graph to see the racial breakdown for any given year. Some percentages may be based on low levels of observation. Click the “Data” tab to review the raw stop data. </p>\n			<h2>Departmental Search Rate</h2>\n			<h3>Average Departmental Search Rate For Vehicle Stops</h3>\n			<p>This graph is a longitudinal representation of the average departmental search rate for vehicle stops since the department began reporting its data to the state. The black line represents the overall search rate for all motorists. </p>\n			<div>\n				<svg id=\"svgSearchRatePercentOfStops\" style=\"width: 600px; height: 400px; \"></svg>\n			</div>\n			<p>Drag the cursor over the graph to see the race/ethnic composition breakdown for any given year. Some percentages may be based on low levels of observation. Click the \"Data\" tab to review the actual stop/search counts from the NC Department of Justice. </p>\n			<p>* Non-hispanic</p>\n			<h3>Search Data by Race/Ethnic Composition</h3>\n			<p>These graphs reflect the race/ethnic composition of drivers searched by law enforcement officers in the jurisdiction since the department began reporting its data to the state. </p>\n			<div>\n				<svg id=\"svgSearchRatePie\" style=\"width: 600px; height: 400px; \"></svg>\n			</div>\n			<p class=\"font-style-italic \">Adjusting the drop down menu will display the race/ethnic composition breakdown of stops on a year-by-year basis. Some percentages may be based on low levels of observation. </p>\n			<p class=\"font-style-italic \">* Non-hispanic</p>\n			<h3>Longitudinal view of annual percent of search by race/ethnic composition</h3>\n			<div>\n				<svg id=\"svgSearchRatePercentTotal\" style=\"width: 600px; height: 400px; \"></svg>\n			</div>\n			<p class=\"font-style-italic \">Drag the cursor over the graph to see the race/ethnic composition breakdown for any given year. Some percentages may be based on low levels of observation. Click the \"Data\" tab to review the actual raw counts from the NC Department of Justice. </p>\n			<p class=\"font-style-italic \">* Non-hispanic</p>\n			<div>\n				<svg id=\"svgCauseLikelihoodPercent\" style=\"width: 600px; height: 400px; \"></svg>\n			</div>\n			<div>\n				<svg id=\"svgContrabandHitRate\" style=\"width: 600px; height: 400px; \"></svg>\n			</div>\n			<div>\n				<svg id=\"svgUseOfForcePie\" style=\"width: 600px; height: 400px; \"></svg>\n			</div>\n			<div>\n				<svg id=\"svgUseOfForceTotal\" style=\"width: 600px; height: 400px; \"></svg>\n			</div>\n			<footer class=\"w3-center w3-black w3-text-white w3-padding-24 \">\n				<div>\n					<a href=\"https://github.com/Southern-Coalition-Team-19/southerncoalition\" class=\"w3-small \">This site is open source.</a>\n					<a href=\"https://www.openshift.com/products/online/\"><span class=\"w3-small \">Powered by </span><img alt=\"\" class=\"w3-image \" style=\"display: inline-block; width: 100px; margin: 0 10px;\" src=\""
    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,"staticBaseUrl") || (depth0 != null ? lookupProperty(depth0,"staticBaseUrl") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"staticBaseUrl","hash":{},"data":data,"loc":{"start":{"line":545,"column":196},"end":{"line":545,"column":213}}}) : helper)))
    + "/svg/openshift.svg\"/></a>\n				</div>\n			</footer>\n		</div>\n";
},"compiler":[8,">= 4.3.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    };

  return "\n"
    + ((stack1 = (lookupProperty(helpers,"partial")||(depth0 && lookupProperty(depth0,"partial"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"head_content",{"name":"partial","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":2,"column":0},"end":{"line":461,"column":12}}})) != null ? stack1 : "")
    + "\n"
    + ((stack1 = (lookupProperty(helpers,"partial")||(depth0 && lookupProperty(depth0,"partial"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),"body_content",{"name":"partial","hash":{},"fn":container.program(6, data, 0),"inverse":container.noop,"data":data,"loc":{"start":{"line":463,"column":0},"end":{"line":549,"column":12}}})) != null ? stack1 : "")
    + ((stack1 = container.invokePartial(lookupProperty(partials,"base-page"),depth0,{"name":"base-page","data":data,"helpers":helpers,"partials":partials,"decorators":container.decorators})) != null ? stack1 : "")
    + "\n";
},"usePartial":true,"useData":true});
  var templates = Handlebars.templates = Handlebars.templates || {};
  templates['traffic-stop-report'] = template;
  var partials = Handlebars.partials = Handlebars.partials || {};
  partials['traffic-stop-report'] = template;



})();